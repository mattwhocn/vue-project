<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script type="text/javascript" src="js/vue.js"></script>
</head>
<body>
    <div id="app">
        <p> 原始信息：{{message}}</p>
        <p> 逆转信息：{{reverseMessage}}</p>
        <button @click="click">按钮</button>
        <p>{{now}}</p>
    </div>
</body>
<script type="text/javascript">
    // 对复杂的表达式使用计算属性   getter   setter
    var app = new Vue({
        el:'#app',
        data:{
            message:'这是一条原始信息',
            date:Date.now()
        },
        methods:{
            click:function(){
                this.message = "点击之后改变了新的信息"
            }
        },
        computed : {
            reverseMessage:function(){
                return this.message.split('').reverse().join('');
            },
            now:function(){
                return Date.now();
            }

        },
        watch : {
            'message':function(){
                alert('watch检测到message变化')
            }
        }
    });

    app.$watch('message',function(){
        alert('$watch检测到message变化')
    });


    console.log(app);




    // 计算缓存：
    //  同一个计算函数 可以定义成mothord 也可以定义成 computed
    // 但是计算属性基于他们的依赖进行缓存计算属性只有在它的相关依赖发生改变时才会重新求值。
    // 这就意味着只要 message 还没有发生改变，
    // 多次访问 reversedMessage 计算属性会立即返回之前的计算结果，而不必再次执行函数。


</script>
</html>